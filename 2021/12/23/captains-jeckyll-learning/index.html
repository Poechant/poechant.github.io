<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>麦克船长的 Jekyll 快速教程</title>
  	<meta name="description" content="Jekyll 是一个用 Ruby 实现的、使用 Liquid 模板引擎的静态网站生成器，它可以通过 Markdown 或者 HTML 等文件生成完整的静态网站。它特别适用于博客或者文章类的网站，因为可以自动生成博客的首页、分类页、标签页等等。因为使用 Liquid 引擎所以能在页面中使用变量、循环、条件语句等等，非常方便。虽然基于 Ruby 实现但使用起来并不需要掌握 Ruby，只需要了解一些基本的语法即可。">

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/css/main.css">

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  	<!-- Favicon -->
 	 <link rel="shortcut icon" type="image/png" href="/img/favicon.png">

 	 <!-- Syntax highlighter -->
  	<link rel="stylesheet" href="/css/syntax.css" />

  	<!--KaTeX-->
  	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
  	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
  	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script>
  	<script>
  		document.addEventListener("DOMContentLoaded", function() {
  			renderMathInElement(document.body, {
  				// ...options...
  			});
  		});
  	</script>

  	

</head>

<body>
	<div id="wrap">
	  	
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>

		<!-- Nav pages -->
	  <!-- 
	    
	  
	    
	      <a href="/about/" title="关于我">关于我</a>
	    
	  
	    
	  
	    
	  
	    
	      <a href="/booklist/" title="读书行路">读书行路</a>
	    
	  
	    
	  
	    
	      <a href="/categories/" title="Categories">Categories</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	   -->

	  <!-- Tech category pages -->






  <a href="/category/ai" title="人工智能">人工智能</a>















  <a href="/category/rt_tech" title="实时技术">实时技术</a>





  <a href="/category/web" title="前端技术">前端技术</a>














<!-- Non-tech category pages -->












  <a href="/category/design" title="设计">设计</a>











  <a href="/category/thinking" title="思考与生活">思考与生活</a>















	  
        
      
        
          <a href="/about/" title="关于我">关于我</a>
        
      
        
      
        
      
        
          <a href="/booklist/" title="读书行路">读书行路</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    <!-- Nav links -->
	  <!-- <a href="https://github.com/thereviewindex/monochrome/archive/master.zip">Download</a>
<a href="https://github.com/thereviewindex/monochrome">Project on Github</a> -->

	</div>
  
  <!-- Nav footer -->
	
	  <footer>
	
	<span>version 1.0.0</span>

</footer>
	

</nav>

    
    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <span class="f-left">  
      <a href="/">
        <h1>
          <span>Mike</span>Captain
        </h1>
      </a>
    </span>
    <span id="nav-links" class="absolute right bottom">

      <!-- Tech category pages -->






  <a href="/category/ai" title="人工智能">人工智能</a>















  <a href="/category/rt_tech" title="实时技术">实时技术</a>





  <a href="/category/web" title="前端技术">前端技术</a>














<!-- Non-tech category pages -->












  <a href="/category/design" title="设计">设计</a>











  <a href="/category/thinking" title="思考与生活">思考与生活</a>















      &nbsp;&nbsp;&nbsp;丨&nbsp;

      <!-- Nav pages -->
      
        
      
        
          <a href="/about/" title="关于我">关于我</a>
        
      
        
      
        
      
        
          <a href="/booklist/" title="读书行路">读书行路</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
      <!-- Nav links -->
      <!-- <a href="https://github.com/thereviewindex/monochrome/archive/master.zip">Download</a>
<a href="https://github.com/thereviewindex/monochrome">Project on Github</a> -->

    </span>
  </div>
</header>




      

    <!-- Main content -->
	  <div id="container">
		  
		<main>

			<article id="post-page">
	<h2>麦克船长的 Jekyll 快速教程</h2>		
	<time datetime="2021-12-23T19:43:02+00:00" class="by-line">23 Dec 2021, 杭州 | 麦克船长 | 总计 3903 字</time>
	<div class="content">
		<ul>
  <li>作者：麦克船长（钟超）</li>
  <li>微信：sinosuperman</li>
</ul>

<h3 id="写在前面">写在前面</h3>

<p>Jekyll 是一个用 Ruby 实现的、使用 Liquid 模板引擎的静态网站生成器，它可以通过 Markdown 或者 HTML 等文件生成完整的静态网站。它特别适用于博客或者文章类的网站，因为可以自动生成博客的首页、分类页、标签页等等。因为使用 Liquid 引擎所以能在页面中使用变量、循环、条件语句等等，非常方便。虽然基于 Ruby 实现但使用起来并不需要掌握 Ruby，只需要了解一些基本的语法即可。</p>

<h3 id="part-1基本特点">Part 1、基本特点</h3>

<h4 id="一基本语法">一、基本语法</h4>

<ul>
  <li>变量：用双大括号表示变量 <code class="language-plaintext highlighter-rouge">麦克船长的技术、产品与商业博客</code></li>
  <li>过滤器：可以使用过滤器对变量进行操作，例如 <code class="language-plaintext highlighter-rouge">麦克船长的技术、产品与商业博客</code> 表示把网站的标题转换为大写。</li>
  <li>支持循环与分支结构：比如 <code class="language-plaintext highlighter-rouge">for-endfor</code> 和 <code class="language-plaintext highlighter-rouge">if-elsif-else-endif</code> ：可以使用 <code class="language-plaintext highlighter-rouge">fo-endfor</code> 循环遍历列表或集合，例如 `````` 表示遍历网站的所有页面。</li>
</ul>

<h4 id="二典型-jekyll-项目结构及重要文件介绍">二、典型 Jekyll 项目结构及重要文件介绍</h4>

<h5 id="1配置文件-_configyml">1、配置文件 <code class="language-plaintext highlighter-rouge">_config.yml</code></h5>

<p>首先看到下作为一个网站的基础设置，这里要特别注意不要遗漏 <code class="language-plaintext highlighter-rouge">encoding: utf-8</code> 这一条。</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Site settings</span>
<span class="na">encoding</span><span class="pi">:</span> <span class="s">utf-8</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">麦克船长的技术、产品与商业博客</span>
<span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">麦克船长对于技术、产品、商业等领域的分享|AI,A.I.,NLP,神经网络,人工智能,自然语言处理,BERT,GPT,ChatGPT,OpenAI,阿里巴巴,P9,运营,淘宝,天猫,总监,高管"</span>
<span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://www.mikecaptain.com"</span>
<span class="na">author</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Your</span><span class="nv"> </span><span class="s">Name"</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://www.mikecaptian.com"</span>
</code></pre></div></div>

<p>然后是 Markdown 引擎的设置，及其高亮语法 Rouge 部分。</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Markdown and highlighter</span>
<span class="na">markdown</span><span class="pi">:</span> <span class="s">kramdown</span>
<span class="na">highlighter</span><span class="pi">:</span> <span class="s">rouge</span>
<span class="na">kramdown</span><span class="pi">:</span>
  <span class="na">input</span><span class="pi">:</span> <span class="s">GFM</span>
  <span class="na">syntax_highlighter</span><span class="pi">:</span> <span class="s">rouge</span>
</code></pre></div></div>

<p>一些要用到的插件也要设置进来，本博客只用到了基础插件两个。</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Plugins</span>
<span class="na">plugins</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">jekyll-paginate</span>
  <span class="pi">-</span> <span class="s">jekyll-sitemap</span>
</code></pre></div></div>

<p>另外构建项目的一些关键设置，比如文章放在哪里、如何进行分页（每页多少条文章）等等作为一个静态博客网站的 build 类设置都在此。</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Build settings</span>
<span class="na">baseurl</span><span class="pi">:</span>  <span class="c1"># Change this to your relative path (ex: /blog/), or leave just a /</span>
<span class="na">source</span><span class="pi">:</span> <span class="s">.</span>
<span class="na">destination</span><span class="pi">:</span> <span class="s">./_site</span>
<span class="na">permalink</span><span class="pi">:</span> <span class="s">/:title</span>
<span class="na">paginate</span><span class="pi">:</span> <span class="m">20</span>
<span class="na">paginate_path</span><span class="pi">:</span> <span class="s">/page:num/</span>
<span class="na">collections</span><span class="pi">:</span>
  <span class="na">posts</span><span class="pi">:</span>
    <span class="na">output</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">permalink</span><span class="pi">:</span> <span class="s">/:year/:month/:day/:title/</span>
    <span class="na">directory</span><span class="pi">:</span> <span class="s">_posts</span>
</code></pre></div></div>

<h5 id="2布局文件_layouts-目录下的文件规则">2、布局文件：<code class="language-plaintext highlighter-rouge">_layouts</code> 目录下的文件规则</h5>

<p>Jekyll 的 <code class="language-plaintext highlighter-rouge">_layouts</code> 目录包含了你的 Jekyll 站点中所使用的页面布局。每个页面布局是一个 <code class="language-plaintext highlighter-rouge">HTML</code>模板，定义了你的站点中页面的框架和外观。你可以通过在你的文章或页面的头部添加一个 <code class="language-plaintext highlighter-rouge">layout</code> 字段来指定使用哪个布局来渲染该页面。</p>

<p>布局文件通常包含用于渲染页面的常见元素，例如头部、尾部和侧边栏。你可以在布局文件中使用 <code class="language-plaintext highlighter-rouge">include</code> 语句来插入你的站点的其他文件，例如 header.html 和 footer.html 文件。这样，你就可以在一个地方维护站点的头部和尾部，而不必在每个页面中都进行更新。</p>

<h5 id="3页面文件及其头部">3、页面文件及其头部</h5>

<p>在一个页面的开头，用如下语法表示页面头部：</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">page</span>
<span class="na">permalink</span><span class="pi">:</span> <span class="s">/categories/</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">Categories</span>
<span class="nn">---</span>
</code></pre></div></div>

<p>每个页面文件的头部都会有layout，并与 <code class="language-plaintext highlighter-rouge">_layouts</code> 目录下的某个文件对应。</p>

<h3 id="part-2jekyll-中的全局变量">Part 2、Jekyll 中的全局变量</h3>

<p>Jekyll 中有许多全局变量可供使用，它们可以在模板中调用。这些变量提供了有关网站，页面，文章和其他内容的信息，可用于在模板中进行条件判断或显示信息。以下是 Jekyll 中常用的一些全局变量：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">site</code>：包含有关网站的信息，如网站标题，描述，域名等。</li>
  <li><code class="language-plaintext highlighter-rouge">page</code>：包含有关当前页面的信息，如标题，内容，布局等。</li>
  <li><code class="language-plaintext highlighter-rouge">post</code>：包含有关当前文章的信息，如标题，作者，日期等。</li>
  <li><code class="language-plaintext highlighter-rouge">content</code>：包含当前页面或文章的内容。</li>
  <li><code class="language-plaintext highlighter-rouge">paginator</code>：包含有关分页的信息，如当前页码，总页数等。</li>
  <li><code class="language-plaintext highlighter-rouge">tags</code>：包含有关网站的所有标签的信息。</li>
  <li><code class="language-plaintext highlighter-rouge">related_posts</code>：包含与当前文章有关的文章的信息。</li>
</ul>

<p>这些变量可以在模板中使用，比如：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span>{{ page.title }}<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>{{ site.description }}<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  {{ for category in site.categories %}
    <span class="nt">&lt;li&gt;</span>{{ category }}<span class="nt">&lt;/li&gt;</span>
  {{ endfor %}
<span class="nt">&lt;/ul&gt;</span>    
</code></pre></div></div>

<p>Jekyll 还支持自定义全局变量，可以在配置文件 <code class="language-plaintext highlighter-rouge">_config.yml</code> 中添加任意的键值对，然后就可以在模板文件中使用这些变量了。例如，你可以在配置文件中添加如下内容：</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">my_custom_variable</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Hello</span><span class="nv"> </span><span class="s">World"</span>
</code></pre></div></div>

<p>然后就可以在模板文件中使用 <code class="language-plaintext highlighter-rouge">site.my_custom_variable</code> 访问这个自定义变量了。</p>

<h4 id="一site变量">一、site变量</h4>

<p><code class="language-plaintext highlighter-rouge">site</code> 的数据结构里包含了所构建的网站的各种基本信息和结构。</p>

<h5 id="1sitecategories">1、<code class="language-plaintext highlighter-rouge">site.categories</code></h5>

<p><code class="language-plaintext highlighter-rouge">site.categories</code> 是一个 array，每个元素取出它的 <code class="language-plaintext highlighter-rouge">first</code> 就是 <code class="language-plaintext highlighter-rouge">category</code> 的名字，如下使用：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

<h5 id="2sitepages">2、site.pages</h5>

<p><code class="language-plaintext highlighter-rouge">site.pages</code> 是一个包含所有页面的数组，不仅包括根目录下的页面，还包括所有子目录下的页面。因此，<code class="language-plaintext highlighter-rouge">site.pages</code> 中包含的是整个网站中所有的页面。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{ for page in site.pages %}
	{{ page.title }}
{{ endfor %}
</code></pre></div></div>

<h5 id="3其他常用属性">3、其他常用属性</h5>

<ul>
  <li><code class="language-plaintext highlighter-rouge">site.title</code>：是网站的标题。</li>
  <li><code class="language-plaintext highlighter-rouge">site.related_posts</code>：相关文章的列表。</li>
  <li><code class="language-plaintext highlighter-rouge">site.data</code>：从 <code class="language-plaintext highlighter-rouge">_data</code> 目录加载的数据。</li>
  <li><code class="language-plaintext highlighter-rouge">site.static_files</code>：静态文件的列表。</li>
  <li><code class="language-plaintext highlighter-rouge">site.collections</code>：自定义集合的列表。</li>
</ul>

<h4 id="二page-变量">二、<code class="language-plaintext highlighter-rouge">page</code> 变量</h4>

<p>在 Jekyll 中，<code class="language-plaintext highlighter-rouge">page</code> 变量表示单独页面的数据。它是一个包含多个属性的对象，可以用来存储页面的信息并在模板中使用。一些常见的 <code class="language-plaintext highlighter-rouge">page</code> 变量属性包括：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">layout</code>：表示页面使用的布局模板的名称。</li>
  <li><code class="language-plaintext highlighter-rouge">title</code>：表示页面的标题。</li>
  <li><code class="language-plaintext highlighter-rouge">date</code>：表示页面的发布日期。</li>
  <li><code class="language-plaintext highlighter-rouge">categories</code>：表示页面所属的分类列表。</li>
  <li><code class="language-plaintext highlighter-rouge">tags</code>：表示页面所属的标签列表。</li>
  <li><code class="language-plaintext highlighter-rouge">content</code>：表示页面的内容（用 Markdown 格式书写）。</li>
</ul>

<p>在模板中，可以使用 <code class="language-plaintext highlighter-rouge">{{ page.属性名 }}</code> 的方式来访问 <code class="language-plaintext highlighter-rouge">page</code> 变量的属性。例如，如果想在模板中输出页面的标题，可以使用 <code class="language-plaintext highlighter-rouge">{{ page.title }}</code>。此外，<code class="language-plaintext highlighter-rouge">page</code> 变量还有其他属性，如 <code class="language-plaintext highlighter-rouge">permalink</code>、<code class="language-plaintext highlighter-rouge">excerpt</code>、<code class="language-plaintext highlighter-rouge">url</code> 等，可以根据需要调用。</p>

<h3 id="part-3控制结构">Part 3、控制结构</h3>

<h4 id="1if-else-分支结构">1、<code class="language-plaintext highlighter-rouge">if-else</code> 分支结构</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{ if tmp_var == "type1" %}
{{ elsif tmp_var == "type2" %}
{{ elsif tmp_var == "type3" %}
{{ elsif tmp_var == "type4" %}
{{ else tmp_var == "type5" %}
{{ endif %}
</code></pre></div></div>

<h4 id="2for-endfor-循环结构">2、<code class="language-plaintext highlighter-rouge">for-endfor</code> 循环结构</h4>

<p>不带条件判断的 <code class="language-plaintext highlighter-rouge">for</code> 循环如下：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{ for post in paginator.posts %}
	<span class="c">&lt;!-- Your other sentences --&gt;</span>
{{ endfor %}
</code></pre></div></div>

<p>带条件循环的 <code class="language-plaintext highlighter-rouge">for</code> 用 Jekyll 里的「过滤器」来实现：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{ for page in site.pages | where: "dir", "categories" %}
	{{ page.title }}
{{ endfor %}
</code></pre></div></div>

<h5 id="3jekyll-支持的其他结构包括">3、Jekyll 支持的其他结构包括：</h5>

<ul>
  <li><code class="language-plaintext highlighter-rouge">case</code> 用于在多个可能的条件中执行代码的结构。</li>
  <li><code class="language-plaintext highlighter-rouge">capture</code> 用于捕获输出的结构。</li>
  <li><code class="language-plaintext highlighter-rouge">cycle</code> 用于循环一组字符串的结构。</li>
  <li><code class="language-plaintext highlighter-rouge">include</code> 用于包含其他文件的结构。</li>
  <li><code class="language-plaintext highlighter-rouge">unless</code> 用于在不满足指定条件时执行代码的结构。</li>
  <li><code class="language-plaintext highlighter-rouge">while</code> 用于在满足指定条件时执行代码的结构。</li>
</ul>

<h3 id="参考">参考：</h3>

<p>1、<a href="https://learn.cloudcannon.com/jekyll/list-posts-by-category/">https://learn.cloudcannon.com/jekyll/list-posts-by-category/</a>
2、<a href="https://jekyllrb.com/docs/">https://jekyllrb.com/docs/</a></p>

	</div>
</article>



	  </main>
		
		  <!-- Pagination links -->
      

	  </div>
	    
	    <!-- Footer -->
	    <footer><span>@2022 - MikeCaptain.com</span></footer>


	    <!-- Script -->
      <script src="/js/main.js"></script>	


	</div>
</body>
</html>
